{"ast":null,"code":"var _jsxFileName = \"/Users/cobe/Documents/react-test/src/views/Home.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport Button from \"../components/Button/Button\";\nimport Table from \"../components/Table/Table\"; //import Thead from \"../components/Table/Thead\";\n//import TestC from \"../components/TestC/TestC\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  // const [count, setCount] = useState(0)\n  // const add = ()=> {\n  //     setCount((prevCount) => prevCount + 1) \n  //     setCount((prevCount) => prevCount + 1)\n  // }\n  // useEffect(() => {\n  //   console.log(\"use effect\")\n  // }, [count])\n  const [data, setData] = useState([]);\n  const [role, setRole] = useState(\"all\");\n  useEffect(() => {\n    requestData();\n  }, []);\n\n  const requestData = async () => {\n    const response = await fetch('https://myjson.dit.upm.es/api/bins/4ddl');\n    const backendData = await response.json();\n    const data1 = backendData.map(element => ({\n      id: element.id,\n      number: element.number,\n      name: element.name,\n      position: element.position,\n      birthday: dateSyntax(element.birthday),\n      age: new Date().getFullYear() - element.birthday.slice(-4),\n      email: element.email,\n      roles: element.roles[0].role,\n      ageOrder: Number(new Date(dateSyntax(element.birthday).split('.').reverse().join('-')))\n    }));\n    setData(data1); //return data1\n  };\n\n  const dateSyntax = date => {\n    const day = date.slice(0, 2);\n    const month = date.slice(2, -4).length === 1 ? '0' + date.slice(2, -4) : date.slice(2, -4);\n    const year = date.slice(-4);\n    return [day, month, year].join('.');\n  };\n\n  const renderData = role === 'all' ? data : data.filter(element => element.roles === role); // const displayByRole = (data, wantedRole) => {\n  //     const itemsToRender = wantedRole === 'all' ? data : data.filter((element) => element.roles === wantedRole);\n  //     <Table data={itemsToRender} />\n  // }\n\n  const orderByAge = displayedData => displayedData.sort((a, b) => a.ageOrder - b.ageOrder);\n\n  return (\n    /*#__PURE__*/\n    // <>\n    // <Button onClick={add}>\n    //     <div>{ count }</div>\n    // </Button>\n    // <TestC />\n    // </>\n    _jsxDEV(_Fragment, {\n      children: [renderData && /*#__PURE__*/_jsxDEV(Table, {\n        data: renderData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        buttonName: 'show all',\n        handleClick: () => setRole(\"all\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        buttonName: 'show admin',\n        handleClick: () => {\n          setRole(\"admin\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        buttonName: 'show employee',\n        handleClick: () => {\n          setRole(\"employee\");\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        buttonName: 'order by age',\n        handleClick: () => {\n          orderByAge(data);\n          setRole('all');\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true) // <table>\n    //     <thead>\n    //         <Thead />\n    //     </thead>\n    //     <tbody>\n    //     {data && data.map((element) => {\n    //         return<Table \n    //         id={element.id}\n    //         key={element.id}\n    //         number={element.number}\n    //         name={element.name}\n    //         position={element.position}\n    //         birthday={element.birthday}\n    //         age={element.age}\n    //         email={element.email}\n    //         roles={element.roles}\n    //         ageOrder={element.ageOrder}\n    //         />\n    //     })}\n    //     </tbody>\n    // </table>\n    // <Table \n    //     id={data[1].id}\n    //     number={data[1].number}\n    //     name={data[1].name}\n    //     position={data[1].position}\n    //     birthday={data[1].birthday}\n    //     age={data[1].age}\n    //     email={data[1].email}\n    //     roles={data[1].roles}\n    //     ageOrder={data[1].ageOrder}\n    // />\n\n  );\n};\n\n_s(Home, \"mwpLAEN78Tdh0FklxuHLjvqj7/E=\");\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["useEffect","useState","Button","Table","Home","data","setData","role","setRole","requestData","response","fetch","backendData","json","data1","map","element","id","number","name","position","birthday","dateSyntax","age","Date","getFullYear","slice","email","roles","ageOrder","Number","split","reverse","join","date","day","month","length","year","renderData","filter","orderByAge","displayedData","sort","a","b"],"sources":["/Users/cobe/Documents/react-test/src/views/Home.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport Button from \"../components/Button/Button\";\nimport Table from \"../components/Table/Table\";\n//import Thead from \"../components/Table/Thead\";\n//import TestC from \"../components/TestC/TestC\";\n\nconst Home = () => { \n\n    // const [count, setCount] = useState(0)\n\n    // const add = ()=> {\n    //     setCount((prevCount) => prevCount + 1) \n    //     setCount((prevCount) => prevCount + 1)\n    // }\n\n    // useEffect(() => {\n    //   console.log(\"use effect\")\n    // }, [count])\n\n    const [data, setData] = useState([])\n    const [role, setRole] = useState(\"all\")\n\n    useEffect(() => {\n        requestData();\n    },[]);\n\n    const requestData = async () => {\n        const response = await fetch ('https://myjson.dit.upm.es/api/bins/4ddl');\n        const backendData = await response.json();\n\n        const data1 = backendData.map((element) => ({\n            id: element.id,\n            number: element.number,\n            name: element.name,\n            position: element.position,\n            birthday: dateSyntax(element.birthday),\n            age:(new Date().getFullYear()) - element.birthday.slice(-4),\n            email: element.email,\n            roles: element.roles[0].role,\n            ageOrder: Number(new Date(dateSyntax(element.birthday).split('.').reverse().join('-')))\n        }));\n\n        setData(data1);\n        //return data1\n    }\n\n    \n\n    \n\n    const dateSyntax = (date) => {\n        const day = date.slice(0,2);\n        const month = date.slice(2,-4).length === 1 ? '0' + date.slice(2,-4) : date.slice(2,-4);\n        const year = date.slice(-4);\n        return [day, month, year].join('.');\n    }\n\n    const renderData = role === 'all' ? data : data.filter((element) => element.roles === role);\n\n    // const displayByRole = (data, wantedRole) => {\n    //     const itemsToRender = wantedRole === 'all' ? data : data.filter((element) => element.roles === wantedRole);\n\n    //     <Table data={itemsToRender} />\n    // }\n    \n    const orderByAge = (displayedData) => displayedData.sort((a,b) => a.ageOrder - b.ageOrder);\n\n   return (\n        // <>\n        // <Button onClick={add}>\n        //     <div>{ count }</div>\n        // </Button>\n        // <TestC />\n        // </>\n        <>\n        {\n            renderData && <Table data={renderData} />\n        }\n        <Button  buttonName={'show all'} handleClick={() => setRole(\"all\")} />\n        <Button  buttonName={'show admin'} handleClick={() => {setRole(\"admin\")}} />\n        <Button  buttonName={'show employee'} handleClick={() => {setRole(\"employee\")}} />\n        <Button  buttonName={'order by age'} handleClick={() => {\n            orderByAge(data); \n            setRole('all');\n            }}/>\n        </>\n        // <table>\n        //     <thead>\n        //         <Thead />\n        //     </thead>\n        //     <tbody>\n        //     {data && data.map((element) => {\n        //         return<Table \n        //         id={element.id}\n        //         key={element.id}\n        //         number={element.number}\n        //         name={element.name}\n        //         position={element.position}\n        //         birthday={element.birthday}\n        //         age={element.age}\n        //         email={element.email}\n        //         roles={element.roles}\n        //         ageOrder={element.ageOrder}\n        //         />\n        //     })}\n        //     </tbody>\n        // </table>\n\n\n        // <Table \n        //     id={data[1].id}\n        //     number={data[1].number}\n        //     name={data[1].name}\n        //     position={data[1].position}\n        //     birthday={data[1].birthday}\n        //     age={data[1].age}\n        //     email={data[1].email}\n        //     roles={data[1].roles}\n        //     ageOrder={data[1].ageOrder}\n        \n        // />\n\n    )\n}\n\nexport default Home;"],"mappings":";;;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,MAAP,MAAmB,6BAAnB;AACA,OAAOC,KAAP,MAAkB,2BAAlB,C,CACA;AACA;;;;;AAEA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EAEf;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EAEA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,KAAD,CAAhC;EAEAD,SAAS,CAAC,MAAM;IACZS,WAAW;EACd,CAFQ,EAEP,EAFO,CAAT;;EAIA,MAAMA,WAAW,GAAG,YAAY;IAC5B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,yCAAF,CAA5B;IACA,MAAMC,WAAW,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAA1B;IAEA,MAAMC,KAAK,GAAGF,WAAW,CAACG,GAAZ,CAAiBC,OAAD,KAAc;MACxCC,EAAE,EAAED,OAAO,CAACC,EAD4B;MAExCC,MAAM,EAAEF,OAAO,CAACE,MAFwB;MAGxCC,IAAI,EAAEH,OAAO,CAACG,IAH0B;MAIxCC,QAAQ,EAAEJ,OAAO,CAACI,QAJsB;MAKxCC,QAAQ,EAAEC,UAAU,CAACN,OAAO,CAACK,QAAT,CALoB;MAMxCE,GAAG,EAAE,IAAIC,IAAJ,GAAWC,WAAX,EAAD,GAA6BT,OAAO,CAACK,QAAR,CAAiBK,KAAjB,CAAuB,CAAC,CAAxB,CANO;MAOxCC,KAAK,EAAEX,OAAO,CAACW,KAPyB;MAQxCC,KAAK,EAAEZ,OAAO,CAACY,KAAR,CAAc,CAAd,EAAiBrB,IARgB;MASxCsB,QAAQ,EAAEC,MAAM,CAAC,IAAIN,IAAJ,CAASF,UAAU,CAACN,OAAO,CAACK,QAAT,CAAV,CAA6BU,KAA7B,CAAmC,GAAnC,EAAwCC,OAAxC,GAAkDC,IAAlD,CAAuD,GAAvD,CAAT,CAAD;IATwB,CAAd,CAAhB,CAAd;IAYA3B,OAAO,CAACQ,KAAD,CAAP,CAhB4B,CAiB5B;EACH,CAlBD;;EAwBA,MAAMQ,UAAU,GAAIY,IAAD,IAAU;IACzB,MAAMC,GAAG,GAAGD,IAAI,CAACR,KAAL,CAAW,CAAX,EAAa,CAAb,CAAZ;IACA,MAAMU,KAAK,GAAGF,IAAI,CAACR,KAAL,CAAW,CAAX,EAAa,CAAC,CAAd,EAAiBW,MAAjB,KAA4B,CAA5B,GAAgC,MAAMH,IAAI,CAACR,KAAL,CAAW,CAAX,EAAa,CAAC,CAAd,CAAtC,GAAyDQ,IAAI,CAACR,KAAL,CAAW,CAAX,EAAa,CAAC,CAAd,CAAvE;IACA,MAAMY,IAAI,GAAGJ,IAAI,CAACR,KAAL,CAAW,CAAC,CAAZ,CAAb;IACA,OAAO,CAACS,GAAD,EAAMC,KAAN,EAAaE,IAAb,EAAmBL,IAAnB,CAAwB,GAAxB,CAAP;EACH,CALD;;EAOA,MAAMM,UAAU,GAAGhC,IAAI,KAAK,KAAT,GAAiBF,IAAjB,GAAwBA,IAAI,CAACmC,MAAL,CAAaxB,OAAD,IAAaA,OAAO,CAACY,KAAR,KAAkBrB,IAA3C,CAA3C,CAnDe,CAqDf;EACA;EAEA;EACA;;EAEA,MAAMkC,UAAU,GAAIC,aAAD,IAAmBA,aAAa,CAACC,IAAd,CAAmB,CAACC,CAAD,EAAGC,CAAH,KAASD,CAAC,CAACf,QAAF,GAAagB,CAAC,CAAChB,QAA3C,CAAtC;;EAED;IAAA;IACK;IACA;IACA;IACA;IACA;IACA;IACA;MAAA,WAEIU,UAAU,iBAAI,QAAC,KAAD;QAAO,IAAI,EAAEA;MAAb;QAAA;QAAA;QAAA;MAAA,QAFlB,eAIA,QAAC,MAAD;QAAS,UAAU,EAAE,UAArB;QAAiC,WAAW,EAAE,MAAM/B,OAAO,CAAC,KAAD;MAA3D;QAAA;QAAA;QAAA;MAAA,QAJA,eAKA,QAAC,MAAD;QAAS,UAAU,EAAE,YAArB;QAAmC,WAAW,EAAE,MAAM;UAACA,OAAO,CAAC,OAAD,CAAP;QAAiB;MAAxE;QAAA;QAAA;QAAA;MAAA,QALA,eAMA,QAAC,MAAD;QAAS,UAAU,EAAE,eAArB;QAAsC,WAAW,EAAE,MAAM;UAACA,OAAO,CAAC,UAAD,CAAP;QAAoB;MAA9E;QAAA;QAAA;QAAA;MAAA,QANA,eAOA,QAAC,MAAD;QAAS,UAAU,EAAE,cAArB;QAAqC,WAAW,EAAE,MAAM;UACpDiC,UAAU,CAACpC,IAAD,CAAV;UACAG,OAAO,CAAC,KAAD,CAAP;QACC;MAHL;QAAA;QAAA;QAAA;MAAA,QAPA;IAAA,gBAPL,CAmBK;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAGA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAEA;;EArDL;AAwDF,CArHD;;GAAMJ,I;;KAAAA,I;AAuHN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}